@model List<AppTeacherStudentListModel>
@{
    Layout = "_Layout";
    int count = 0;
}

@{if (Model.Count != 0)
    {

        <div class="container-fluid">

            <div class="text-right">
                <a id="pdfButton" class="btn btn-success" asp-action="GenerateAndDownloadPdf2" asp-controller="Teacher" asp-route-myFileName="@($"{ViewBag.sessionName2}_{ViewBag.branchName2}")" asp-route-sessionId="@ViewBag.sessionId" asp-route-branchId="@ViewBag.branchId" asp-route-lessonId="@ViewBag.lessonId">PDF</a>
            </div>
            <div class="text-end">

                @{ if (ViewBag.sessionStatus2 == true)
                    {
                        <h1>   (@ViewBag.sessionName) DÖNEMİ @ViewBag.branchName SINIFI <span style="font-weight: bold; color: cadetblue;">(AKTİF)</span> </h1>


                    }
                    else if (ViewBag.sessionStatus == false)
                    {
                        <h1>   (@ViewBag.sessionName) DÖNEMİ @ViewBag.branchName SINIFI <span style="font-weight: bold; color: red;">(PASİF)</span> </h1>

                    }
                    else
                    {
                        <h1>   (@ViewBag.sessionName) DÖNEMİ @ViewBag.branchName SINIFI <span style="font-weight: bold; color: lightblue;">(DÜZENLENEBİLİR)</span> </h1>

                    }

                }

            </div>

            <hr />
            <br />
            <table class="mt-3 table table-sm table-hover table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>İsim</th>
                        <th>Soyisim</th>
                        <th>Durum</th>
                        <th>Sıra No</th>

                        <th>Ders Notu</th>
                        <th>Devamsızlık</th>

                        <th>Dönem Ortalaması</th>
                        <th>Ayrıntılar</th>

                        @{if (ViewBag.sessionStatus)
                            {
                                <th>Not İşlemleri</th>
                            } }






                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        count = count + 1;
                        <tr>
                            <td>@count</td>
                            <td>@item.FirstName</td>
                            <td>@item.SecondName</td>
                            <td>@(item.Status ? "Aktif" :"Pasif" )</td>
                            <td>@item.SıraNo</td>

                            <td>@(item.LessonNote==-1 ? "GİRİLMEDİ" :item.LessonNote)</td>
                            <td>@(item.Devamsızlık==-1 ? "GİRİLMEDİ" :item.Devamsızlık)</td>
                            @{ if (item.Status)
                                {



                                    <td>@(item.Average <= 0 ? "--" : item.Average.ToString())</td>


                                }
                                else
                                {
                                    <td style="font-weight: bold; color: red;"> PASİF</td>





                                }
                            }


                            <td><a class="btn btn-primary" asp-action="StudentDetailsForTeacher" asp-controller="Teacher" asp-route-userSessionId="@item.StudentSessionId" asp-route-lessonId="@ViewBag.lessonId">KARNE</a></td>

                            @{if (ViewBag.sessionStatus)
                                {
                                    <td><a class="btn btn-danger" asp-action="TeacherNotes" asp-controller="Teacher" asp-route-userSessionId="@item.StudentSessionId" asp-route-lessonId="@ViewBag.lessonId">Not İşlemleri</a></td>
                                } }






                        </tr>
                    }
                </tbody>

            </table>

        </div>

    }
    else
    {

        <h5>Sınıfa Kayıtlı Öğrenci Bilgisi Bulunamadı</h5>
    }
}



